<!DOCTYPE html>
<html>

<head>
  <title>Earthdata Research</title>
  <script src="https://cdn.jsdelivr.net/npm/vega@5.21.0"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-lite@5.2.0"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-embed@6.20.2"></script>
  <link rel="shortcut icon" href="favicon.ico" type="favicon/ico" />
</head>

<style>
  .viz-container {
    display: flex;
    flex-direction: column;
    flex-wrap: nowrap;
    justify-content: space-evenly;
    align-items: center;
  }

  .count-container {
    display: flex;
    flex-direction: row;
    flex-wrap: nowrap;
    justify-content: space-evenly;
    align-items: center;
    width: 80%;
  }

  .count-titles {
    display: flex;
    flex-direction: row;
    flex-wrap: nowrap;
    justify-content: space-around;
    width: 80%;
  }

  .count-item {
    border-radius: 10px;
    width: 50%;
    height: 300px;
    margin: 20px;
    margin-top: 0px;
    display: flex;
    flex-direction: column;
    flex-wrap: nowrap;
    justify-content: space-evenly;
    align-items: center;
  }

  .viz-item {
    width: 80%;
  }

  .mt {
    margin-top: 50px;
  }

  .counter {
    font-size: 5vw;
  }
  
</style>

<body>
  <div class="viz-container">
    <h1 style="font-size: 3rem;">Research Publications with EOSDIS Data</h1>
    <p style="color:#6c6c6c; width: 76%; background-color: #f9f9f9; padding: 10px;border-radius: 10px;">
      The following was built upon a datset of
      research publications that reference <a href="https://earthdata.nasa.gov/eosdis" target="__blank">EOSDIS</a> datasets from 1974 to the present.
      Crucial contributions were made by:
      Irina Gerasimov and Dave Meyer from GES DISC DAAC,
      Wade Albright from Alaska Satellite Facility DAAC,
      Chris Torbert and Danielle Golon from The Land Processes DAAC,
      Suresh Vannan and Ed Armstrong from The Physical Oceanography DAAC,
      and Bruce Wilson from Oak Ridge National Laboratory DAAC.
    </p>
    <div class="count-titles">
      <h2>Publications</h2>
      <h2>Dataset References</h2>
    </div>
    <div class="count-container">
      <div class="count-item" style="background-color: #d4e4ff;">
        <div class="counter">
          8,932
        </div>
        <div>
          14,361
        </div>
      </div>
      <div class="count-item" style="background-color: #fff1d4;">
        <div class="counter">
          14,361
        </div>
        <div>
          14,361
        </div>
      </div>
    </div>
    <h2>Count of Publications By Year</h2>
    <div class="viz-item" id="vis0"></div>
    <h2 class="mt" class="mt">Count of MODIS DOI By Year</h2>
    <div class="viz-item" id="vis11"></div>
    <h2 class="mt">Publication Category Distribution</h2>
    <div class="viz-item" id="vis12"></div>
    <h2 class="mt">Research Topic Clusters</h2>
    <div class="viz-item" id="vis8"></div>
    <h2 class="mt">Publication Location of Study</h2>
    <div class="viz-item" id="vis1"></div>
    <h2 class="mt">Frequent Locations of Study</h2>
    <div class="viz-item" id="vis10"></div>
    <h2 class="mt">Average Number of Datasets Referenced Per Publication</h2>
    <div class="viz-item" id="vis2"></div>
    <h2 class="mt">Frequently Referenced Datasets</h2>
    <div class="viz-item" id="vis3"></div>
    <h2 class="mt">Frequent Journals</h2>
    <div class="viz-item" id="vis4"></div>
    <h2 class="mt">Dataset Journal Copresence</h2>
    <div class="viz-item" id="vis5"></div>
    <h2 class="mt">Mentions of Machine Learning in Publication Titles</h2>
    <div class="viz-item" id="vis7"></div>
    <h2 class="mt">Publication Count By Accesss Type (Open or Closed)</h2>
    <div class="viz-item" id="vis9"></div>
    <h2 class="mt">Unique Journal Count (% Change Year Over Year)</h2>
    <div class="viz-item" id="vis13"></div>
    <!-- <h2 class="mt">Journals with Count of Publications = 1</h2>
    <div class="viz-item" id="vis6" style="width: initial;"></div> -->
  </div>

  <script type="text/javascript">
    var v13 = {
      "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
      "height": 400,
      "width": "container",
      "data": {
        "values": [
          { "category": "2001", "value": 0.5 },
          { "category": "2002", "value": 0.6666666667 },
          { "category": "2003", "value": 0.6 },
          { "category": "2004", "value": 0.25 },
          { "category": "2005", "value": -0.1 },
          { "category": "2006", "value": -0.1111111111 },
          { "category": "2007", "value": 1.125 },
          { "category": "2008", "value": 0.7058823529 },
          { "category": "2009", "value": -0.03448275862 },
          { "category": "2010", "value": 0.25 },
          { "category": "2011", "value": 0.4857142857 },
          { "category": "2012", "value": 0.2884615385 },
          { "category": "2013", "value": 0.1492537313 },
          { "category": "2014", "value": 0.8571428571 },
          { "category": "2015", "value": 0.04895104895 },
          { "category": "2016", "value": 0.1533333333 },
          { "category": "2017", "value": 0.4971098266 },
          { "category": "2018", "value": 0.04247104247 },
          { "category": "2019", "value": 0.1740740741 },
          { "category": "2020", "value": -0.1324921136 },
          { "category": "2021", "value": -0.4254545455 }
        ]
      },
      "mark": {"type": "bar", "tooltip": {"content": "encoding"}, "cornerRadius": 5},
      "encoding": {
        "color": {
          "field": "value",
          "type": "quantitative",
          "scale": {
            "domain": [-0.4254545455, 0, 1.125],
            "range": ["red", "yellow", "green"]
          }, "legend": null
        },
        "x": { "field": "category", "type": "nominal", "title": "Year" },
        "y": {
          "field": "value", "type": "quantitative", "title": "Percent Change", "axis": { "format": ".0%" }
        }
      }
    };
    vegaEmbed('#vis13', v13, { "actions": false });

    var v12 = {
      "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
      "height": 500,
      "width": "container",
      "data": {
        "values": [
          { "category": "Aerosols", "value": 78 },
          { "category": "Agriculture", "value": 64 },
          { "category": "Air Quality", "value": 16 },
          { "category": "Atmospheric Chemistry", "value": 94 },
          { "category": "Biodiversity", "value": 75 },
          { "category": "Climate", "value": 105 },
          { "category": "Clouds + Water Vapor", "value": 37 },
          { "category": "Cyclones", "value": 145 },
          { "category": "Data Science", "value": 87 },
          { "category": "Earthquakes", "value": 2 },
          { "category": "Fire", "value": 142 },
          { "category": "Floods", "value": 56 },
          { "category": "Geodesy", "value": 44 },
          { "category": "Human Activity", "value": 228 },
          { "category": "Land Surface Properties", "value": 78 },
          { "category": "Landslides", "value": 84 },
          { "category": "Ocean Biology", "value": 59 },
          { "category": "Ocean Chemistry", "value": 35 },
          { "category": "Ocean Physics", "value": 130 },
          { "category": "Precipitation", "value": 73 },
          { "category": "Radiation + Energy Budget", "value": 18 },
          { "category": "Radiation + Energy Budget?", "value": 1 },
          { "category": "Sea Level", "value": 41 },
          { "category": "Snow + Ice", "value": 82 },
          { "category": "Soil Properties", "value": 108 },
          { "category": "Solid Earth", "value": 13 },
          { "category": "Vegetation", "value": 284 },
          { "category": "Volcanoes", "value": 44 },
          { "category": "Water Resources", "value": 123 },
          { "category": "Weather", "value": 105 }
        ]
      },
      "mark": { "type": "arc", "innerRadius": 50, "tooltip": true },
      "encoding": {
        "theta": { "field": "value", "type": "quantitative" },
        "color": { "field": "category", "type": "nominal", "legend": null }
      }
    };
    vegaEmbed('#vis12', v12, { "actions": false });

    var v0 = {
      "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
      "width": "container",
      "height": 400,
      "data": {
        "url": "https://raw.githubusercontent.com/vinnyinverso/earthdata-research/main/article_db.csv"
      },
      "mark": {
        "tooltip": true,
        "type": "area",
        "line": {
          "color": "steelblue"
        },
        "color": {
          "x1": 1,
          "y1": 1,
          "x2": 1,
          "y2": 0,
          "gradient": "linear",
          "stops": [
            {
              "offset": 0,
              "color": "white"
            },
            {
              "offset": 1,
              "color": "steelblue"
            }
          ]
        }
      },
      "encoding": {
        "tooltip": [
          { "aggregate": "distinct", "type": "quantitative", "field": "pub_doi", "title": "Count of Publications" }
        ],
        "x": { "field": "pub_year", "type": "temporal", "title": "Publication Year" },
        "y": { "aggregate": "distinct", "field": "pub_doi", "title": "Count of Publications" }
      },
      "transform": [
        { "filter": { "timeUnit": "year", "field": "pub_year", "gte": "1998" } }
      ]
    };
    vegaEmbed('#vis0', v0, { "actions": false });

    var v1 = {
      "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
      "width": "container",
      "height": 500,
      "layer": [
        {
          "data": {
            "url": "https://raw.githubusercontent.com/vinnyinverso/earthdata-research/main/world-110m.json",
            "format": { "type": "topojson", "feature": "countries" }
          },
          "mark": { "type": "geoshape", "fill": "#fcdcdc", "stroke": "white" }
        },
        {
          "data": {
            "url": "https://raw.githubusercontent.com/vinnyinverso/earthdata-research/main/locations.csv"
          },
          "projection": {
            "type": "equalEarth"
          },
          "mark": {
            "type": "circle",
            "size": 14,
            "color": "#ff36ff"
          },
          "encoding": {
            "tooltip": [
              { "field": "latitude", "type": "quantitative" },
              { "field": "longitude", "type": "quantitative" },
              { "field": "location", "type": "text" }
            ],
            "longitude": {
              "field": "longitude",
              "type": "quantitative"
            },
            "latitude": {
              "field": "latitude",
              "type": "quantitative"
            }
          }
        }
      ]
    };
    vegaEmbed('#vis1', v1, { "actions": false });

    var v2 = {
      "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
      "width": "container",
      "height": 400,
      "data": {
        "url": "https://raw.githubusercontent.com/vinnyinverso/earthdata-research/main/article_db.csv"
      },
      "transform": [
        {
          "aggregate": [
            {
              "op": "distinct",
              "field": "pub_doi",
              "as": "distinct_pub_doi"
            },
            {
              "op": "count",
              "field": "ds_doi",
              "as": "count_ds_doi"
            }
          ],
          "groupby": ["pub_year"]
        },
        { "calculate": "format(datum.count_ds_doi / datum.distinct_pub_doi, ',.2f')", "as": "mean_ds" }

      ],
      "layer": [
        {
          "mark": { "type": "errorband", "extent": "stdev", "opacity": 0.2 },
          "encoding": {
            "y": {
              "field": "mean_ds",
              "type": "quantitative",
              "title": "Average Number of Datasets Per Publication"
            }
          }
        },
        {
          "mark": "rule",
          "encoding": {
            "y": {
              "field": "mean_ds",
              "type": "quantitative",
              "aggregate": "mean"
            }
          }
        },
        {
          "mark": "point",
          "encoding": {
            "tooltip": {
              "field": "mean_ds"
            },
            "x": { "field": "pub_year", "type": "temporal", "title": "Publication Year" },
            "y": { "field": "mean_ds", "type": "quantitative" }
          }
        }
      ]
    };
    vegaEmbed('#vis2', v2, { "actions": false });

    var v3 = {
      "data": { "url": "https://raw.githubusercontent.com/vinnyinverso/earthdata-research/main/article_db.csv" },
      "width": "container",
      "height": 400,
      "transform": [
        {
          "aggregate": [
            { "op": "count", "field": "ds_doi", "as": "count" }
          ],
          "groupby": ["ds_title"]
        },
        {
          "window": [{ "op": "row_number", "field": "", "as": "rank" }],
          "sort": [{ "field": "count", "order": "descending" }]
        },
        { "filter": "datum.rank < 10" },
        { "filter": "datum.ds_title != ''" }
      ],
      "encoding": {
        "y": { "type": "nominal", "field": "ds_title", "sort": { "field": "ds_doi", "order": "ascending", "op": "count" }, "axis": null }
      },
      "layer": [
        {
          "mark": { "type": "bar", "color": "#d4b6e0", "cornerRadius": 5 }, "encoding": {
            "x": { "type": "quantitative", "field": "count", "title": "Count of Dataset References" }
          }
        },
        {
          "mark": { "type": "text", "align": "left", "x": 5 },
          "encoding": {
            "text": { "field": "ds_title" }
          }
        }
      ],
      "$schema": "https://vega.github.io/schema/vega-lite/v5.json"
    };

    vegaEmbed('#vis3', v3, { "actions": false });

    var v4 = {
      "width": "container",
      "height": 400,
      "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
      "transform": [
        {
          "aggregate": [
            { "op": "distinct", "field": "pub_doi", "as": "pub_count" }
          ],
          "groupby": ["pub_journal"]
        },
        {
          "window": [{ "op": "row_number", "as": "rank" }],
          "sort": [{ "field": "pub_count", "order": "descending" }]
        },
        { "filter": "datum.rank < 10" },
        { "filter": "datum.pub_journal != ''" }
      ],
      "data": {
        "url": "https://raw.githubusercontent.com/vinnyinverso/earthdata-research/main/article_db.csv"
      },
      "encoding": {
        "y": { "type": "nominal", "field": "pub_journal", "sort": { "field": "pub_journal", "order": "ascending", "op": "count" }, "axis": null }
      },
      "layer": [
        {
          "mark": { "type": "bar", "color": "#f2d383", "cornerRadius": 5 }, "encoding": {
            "x": { "type": "quantitative", "field": "pub_count", "title": "Count of Publications" }
          }
        },
        {
          "mark": { "type": "text", "align": "left", "x": 5 },
          "encoding": {
            "text": { "field": "pub_journal" }
          }
        }
      ]
    };

    vegaEmbed('#vis4', v4, { "actions": false });

    var v5 = {
      "width": "container",
      "height": 400,
      "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
      "data": {
        "url": "https://raw.githubusercontent.com/vinnyinverso/earthdata-research/main/article_db.csv"
      },
      "config": {
        "view": {
          "strokeWidth": 0,
          "step": 13
        },
        "axis": {
          "domain": false
        }
      },
      "transform": [
        { "filter": "datum.pub_journal != ''" },
        { "filter": "datum.ds_title != ''" },
        {
          "joinaggregate": [{
            "op": "count",
            "field": "*",
            "as": "count_ds_title"
          }],
          "groupby": [
            "ds_title"
          ]
        },
        {
          "joinaggregate": [{
            "op": "count",
            "field": "*",
            "as": "count_pub_journal"
          }],
          "groupby": [
            "pub_journal"
          ]
        },
        { "filter": "datum.count_ds_title > 40" },
        { "filter": "datum.count_pub_journal > 30" }
      ],
      "mark": { "type": "rect", "tooltip": { "content": "data" } },
      "encoding": {
        "x": {
          "field": "pub_journal",
          "type": "nominal",
          "title": ""
        },
        "y": {
          "field": "ds_title",
          "type": "ordinal",
          "title": ""
        },
        "color": {
          "field": "*",
          "aggregate": "count",
          "type": "quantitative",
          "legend": {
            "title": null
          }
        }
      }
    };

    vegaEmbed('#vis5', v5, { "actions": false });

    var v6 = {
      "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
      "data": {
        "url": "https://raw.githubusercontent.com/vinnyinverso/earthdata-research/main/article_db.csv"
      },
      "config": {
        "view": {
          "strokeWidth": 0,
          "step": 13
        },
        "axis": {
          "domain": false
        }
      },
      "transform": [
        { "filter": "datum.pub_journal != ''" },
        { "filter": "datum.ds_title != ''" },

        {
          "joinaggregate": [{
            "op": "count",
            "field": "*",
            "as": "count_pub_journal"
          }],
          "groupby": [
            "pub_journal"
          ]
        },

        { "filter": "datum.count_pub_journal == 1" }
      ],
      "layer": [
        {
          "mark": { "type": "bar", "color": "#ddd", "cornerRadius": 5 }, "encoding": {
            "x": { "type": "quantitative", "field": "count", "axis": null }
          }
        },
        {
          "mark": { "type": "text", "align": "left", "x": 5 },
          "encoding": {
            "text": { "field": "pub_journal" }
          }
        }
      ],
      "encoding": {
        "tooltip": { "field": "pub_title" },
        "y": {
          "field": "pub_journal",
          "type": "nominal",
          "axis": null
        }
      }
    };
    // vegaEmbed('#vis6', v6, { "actions": false })

    var v7 = {
      "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
      "width": "container",
      "height": 400,
      "data": {
        "url": "https://raw.githubusercontent.com/vinnyinverso/earthdata-research/main/article_db.csv"
      },
      "transform": [
        { "filter": "!isValid(datum.pub_title) ? false : (indexof(lower(datum.pub_title), 'machine learning') > -1 || indexof(lower(datum.pub_title), 'neural') > -1)" },
        { "filter": { "timeUnit": "year", "field": "pub_year", "gte": "2013" } },
        {
          "aggregate": [
            {
              "op": "distinct",
              "field": "pub_doi",
              "as": "distinct_pub_doi"
            }
          ],
          "groupby": ["pub_year"]
        }
      ],
      "layer": [
        {
          "mark": {
            "type": "line",
            "color": "firebrick"
          },
          "transform": [
            {
              "regression": "pub_year",
              "on": "distinct_pub_doi",
              "method": "pow"
            }
          ],
          "encoding": {
            "x": {
              "field": "pub_year",
              "type": "temporal",
              "title": "Publication Year"
            },
            "y": {
              "field": "distinct_pub_doi",
              "type": "quantitative",
              "title": "Count of Publications"
            }
          }
        },
        {
          "mark": { "type": "point", "size": 80 },
          "encoding": {
            "x": { "field": "pub_year", "type": "temporal" },
            "y": { "field": "distinct_pub_doi", "type": "quantitative" }
          }
        }
      ]
    };

    vegaEmbed('#vis7', v7, { "actions": false })

    var v8 = {
      "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
      "transform": [
        { "filter": "datum.cluster != 'Grand Total'" }
      ],
      "width": "container",
      "height": 400,
      "data": {
        "url": "https://raw.githubusercontent.com/vinnyinverso/earthdata-research/main/cluster_totals.csv"
      },
      "mark": { "type": "rect", "tooltip": { "content": "data" }, "cornerRadiusTopLeft": 5, "cornerRadiusTopRight": 5 },
      "encoding": {
        "x": { "field": "cluster", "type": "nominal", "axis": { "labelAngle": 50 }, "title": "Cluster Keywords" },
        "y": {
          "type": "quantitative",
          "field": "cluster_count",
          "scale": { "domain": [1, 215] },
          "title": "Publication Count"
        },
        "color": { "type": "nominal", "field": "cluster", "legend": null }
      }
    };

    vegaEmbed('#vis8', v8, { "actions": false });

    var v9 = {
      "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
      "data": { "url": "https://raw.githubusercontent.com/vinnyinverso/earthdata-research/main/open_pubs.csv" },
      "transform": [
        { "filter": "isValid(datum.pub_year)" },
        { "filter": { "timeUnit": "year", "field": "pub_year", "gte": "1995" } },
        { "filter": "datum.pub_year != ''" },
        { "calculate": "datum.is_open == 'TRUE' ? 'Open Access' : 'Closed Access'", "as": "is_open" }
      ],
      "width": "container",
      "height": 600,
      "encoding": {
        "y": { "field": "pub_year", "type": "temporal", "title": "Publication Year" }
      },
      "layer": [{
        "mark": { "type": "bar", "height": 20 },
        "encoding": {
          "x": {
            "aggregate": "distinct", "field": "pub_doi",
            "title": "Percent",
            "stack": "normalize"
          },
          "color": {
            "field": "is_open",
            "scale": { "range": ["#a595c4", "#ebaa83"] }
          }
        }
      }, {
        "mark": { "type": "text", "opacity": 0.9, "color": "white" },
        "encoding": {
          "x": {
            "aggregate": "distinct", "field": "pub_doi",
            "title": "Percent",
            "stack": "normalize",
            "bandPosition": 0.5
          },
          "text": {
            "aggregate": "distinct", "field": "pub_doi",
            "title": "Percent"
          },
          "detail": {
            "field": "is_open"
          }
        }
      }]
    };

    vegaEmbed('#vis9', v9, { "actions": false });

    var v10 = {
      "data": { "url": "https://raw.githubusercontent.com/vinnyinverso/earthdata-research/main/locations.csv" },
      "width": "container",
      "height": 400,
      "transform": [
        {
          "aggregate": [
            { "op": "count", "field": "*", "as": "count" }
          ],
          "groupby": ["location"]
        },
        {
          "window": [{ "op": "row_number", "field": "", "as": "rank" }],
          "sort": [{ "field": "count", "order": "descending" }]
        },
        { "filter": "datum.rank < 30" },
        { "filter": "datum.location != '' && datum.location != 'MODIS' && datum.location != 'Earth' && datum.location != 'Asia' && datum.location != 'Africa'&& datum.location != 'North America' && datum.location != 'South America' && datum.location != 'Europe' && datum.location != 'Austrailia'" }
      ],
      "encoding": {
        "y": { "type": "nominal", "field": "location", "sort": { "field": "count", "order": "ascending" }, "axis": null }
      },
      "layer": [
        {
          "mark": { "type": "bar", "color": "#abdbad", "cornerRadius": 5 }, "encoding": {
            "x": { "type": "quantitative", "field": "count", "title": "Count of Publications" }
          }
        },
        {
          "mark": { "type": "text", "align": "left", "x": 5 },
          "encoding": {
            "text": { "field": "location" }
          }
        }
      ],
      "$schema": "https://vega.github.io/schema/vega-lite/v5.json"
    };

    vegaEmbed('#vis10', v10, { "actions": false });


    var v11 = {
      "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
      "width": "container",
      "height": 400,
      "data": {
        "url": "https://raw.githubusercontent.com/vinnyinverso/earthdata-research/main/article_db.csv"
      },
      "mark": {
        "tooltip": true,
        "type": "area",
        "line": {
          "color": "#ebbd34"
        },
        "color": {
          "x1": 1,
          "y1": 1,
          "x2": 1,
          "y2": 0,
          "gradient": "linear",
          "stops": [
            {
              "offset": 0,
              "color": "white"
            },
            {
              "offset": 1,
              "color": "#ebbd34"
            }
          ]
        }
      },
      "encoding": {
        "tooltip": [
          { "aggregate": "distinct", "type": "quantitative", "field": "pub_doi", "title": "Count of Publications" }
        ],
        "x": { "field": "pub_year", "type": "temporal", "title": "Publication Year" },
        "y": { "aggregate": "distinct", "field": "pub_doi", "title": "Count of Publications" }
      },
      "transform": [
        { "filter": { "timeUnit": "year", "field": "pub_year", "gte": "1998" } },
        { "filter": "indexof(lower(datum.ds_doi), 'modis') > -1" }
      ]
    };
    vegaEmbed('#vis11', v11, { "actions": false });
  </script>
</body>

</html>